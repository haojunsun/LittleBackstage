@model  LittleBackstage.Core.Models.Role
@{
    ViewBag.Title = "编辑角色-权限管理-用户管理";
}
@section styles_theme_level{
    <link href="~/Assets/css/plugins/iCheck/custom.css" rel="stylesheet">
}

<div class="wrapper wrapper-content animated fadeInRight" style="height:auto">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>用户管理 <small>权限管理-编辑角色</small></h5>
                </div>
                <div class="ibox-content">
                    @using (Html.BeginForm("EditRole", "User", FormMethod.Post, new { @class = "form-horizontal", @role = "form", enctype = "multipart/form-data" }))
                    {
                        @Html.HiddenFor(model => model.RoleId)
                        <div class="form-group">
                            <label class="col-sm-2 control-label">角色名</label>
                            <div class="col-sm-4">

                                @Html.TextBoxFor(m => m.RoleName, new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">
                                角色类型
                            </label>
                            <div class="col-sm-10">
                                <div class="radio">
                                    <label>
                                        <input type="radio" @(Model.RoleType == 1 ? "checked" : "") value="1" name="roleType" required />会员
                                    </label>
                                </div>
                                <div class="radio">
                                    <label>
                                        <input type="radio" @(Model.RoleType == 0 ? "checked" : "") value="0" name="roleType" required />管理员
                                    </label>
                                </div>
                                <span class="help-block m-b-none red-bg col-md-3">会员类型可以不用选择权限</span>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">
                                权限
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">
                                用户管理
                            </label>
                            <div class="col-sm-10">
                                <label class="checkbox-inline i-checks">
                                    <input type="checkbox" value="User_UserList" name="permissions" id="User_UserList" @Html.Action("JudgeCheck", new {permissionlist = Model.Permissions, permission = "User_UserList"})>会员管理
                                </label>
                                <label class="checkbox-inline i-checks">
                                    <input type="checkbox" value="User_RoleList" name="permissions" id="User_RoleList" @Html.Action("JudgeCheck", new {permissionlist = Model.Permissions, permission = "User_RoleList"})>角色管理
                                </label>
                                <label class="checkbox-inline i-checks">
                                    <input type="checkbox" value="User_ManagerList" name="permissions" id="User_ManagerList" @Html.Action("JudgeCheck", new {permissionlist = Model.Permissions, permission = "User_ManagerList"})>权限管理
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">
                                日志管理
                            </label>
                            <div class="col-sm-10">
                                <label class="checkbox-inline i-checks">
                                    <input type="checkbox" value="Log_LogList" name="permissions" id="Log_LogList" @Html.Action("JudgeCheck", new { permissionlist = Model.Permissions, permission = "Log_LogList" })>登录日志
                                </label>
                                <label class="checkbox-inline i-checks">
                                    <input type="checkbox" value="Log_UserLogList" name="permissions" id="Log_UserLogList" @Html.Action("JudgeCheck", new { permissionlist = Model.Permissions, permission = "Log_UserLogList" })>用户日志
                                </label>
                                @*<label class="checkbox-inline i-checks">
                                        <input type="checkbox" value="option3" name="permissions">文件日志
                                    </label>*@
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-primary" type="submit">保存内容</button>
                                <a class="btn btn-white" href="@Url.Action("RoleList", "User")">取消</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script src="~/Assets/js/plugins/iCheck/icheck.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green',
            });
        });
    </script>
}